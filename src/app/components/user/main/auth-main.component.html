<app-spinner filterBy="project/"></app-spinner>
<ng-container *ngIf="mostPopularProjects && mostPopularProducts">
<div class="row justify-content-center">
  <div class="col-md-6 col-lg-6 col-sm-8 col-8 grid-margin stretch-card">
    <div class="card shadow-lg ">
      <div class="card-body p-0">
        <div id="carouselExampleIndicators" class="carousel slide rounded" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
          </ol>
          <div class="carousel-inner rounded-lg ">
            <div class="carousel-item h-100" *ngIf="mostPopularProjects[0]">
              <div class="carousel-img-wrap hover-cursor h-100" [routerLink]="['/project/details',mostPopularProjects[0].id]">
                <ng-container *ngIf="mostPopularProjects[0].images[0]">

                <img class="d-block w-100 hover-cursor" style="max-width: 100%; max-height: 90%"   [src]="mostPopularProjects[0].images[0].image"  alt="Second slide">
                </ng-container>
                <ng-container *ngIf="!mostPopularProjects[0].images[0]">
                  <img class="d-block w-100 hover-cursor" style="max-width: 100%; max-height: 90%"  src="../../../../assets/images/images.png"  alt="First slide">
                </ng-container>

                <div class="text-dark text-center  d-md-block">

                  <h3 class="display-4 text-dark">
                    {{(translate.currentLang === 'rus') ? mostPopularProjects[0].title_rus : (translate.currentLang==='eng') ? mostPopularProjects[0].title_eng:mostPopularProjects[0].title_kz}}</h3>

                </div>
              </div>
            </div>
            <div class="carousel-item active h-100" *ngIf="mostPopularProjects[1]">
              <div class="carousel-img-wrap h-100 hover-cursor" [routerLink]="['/project/details',mostPopularProjects[1].id]">
                <ng-container *ngIf="mostPopularProjects[1].images[0]">
                  <img class="d-block w-100 hover-cursor" style="max-width: 100%; max-height: 90%"  [src]="mostPopularProjects[1].images[0].image"  alt="First slide">
                </ng-container>
                <ng-container *ngIf="!mostPopularProjects[1].images[0]">
                  <img class="d-block w-100 hover-cursor" style="max-width: 100%; max-height: 90%"  src="../../../../assets/images/images.png"  alt="First slide">
                </ng-container>

                <div class="text-dark text-center d-md-block">

                  <h3 class="display-4 text-dark">
                    {{(translate.currentLang === 'rus') ? mostPopularProjects[1].title_rus : (translate.currentLang==='eng') ? mostPopularProjects[1].title_eng:mostPopularProjects[1].title_kz}}</h3>

                </div>
              </div>

            </div>
            <div class="carousel-item h-100"*ngIf="mostPopularProjects[2]" >
              <div class="carousel-img-wrap h-100 hover-cursor" [routerLink]="['/project/details',mostPopularProjects[2].id]">
                <ng-container *ngIf="mostPopularProjects[2].images[0]">

              <img class="d-block w-100" style="max-width: 100%; max-height: 90%"  [src]="mostPopularProjects[2].images[0].image"  alt="Third slide">
                </ng-container>
                <ng-container *ngIf="!mostPopularProjects[2].images[0]">
                  <img class="d-block w-100 hover-cursor" style="max-width: 100%; max-height: 90%"  src="../../../../assets/images/images.png"  alt="First slide">
                </ng-container>
                <div class="text-dark text-center  d-md-block">

                  <h3 class="display-4 text-dark">
                    {{(translate.currentLang === 'rus') ? mostPopularProjects[2].title_rus : (translate.currentLang==='eng') ? mostPopularProjects[2].title_eng:mostPopularProjects[2].title_kz}}</h3>

                </div>
              </div>
            </div>
          </div>
          <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">{{'back' | translate}}</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">{{'next' | translate}}</span>
          </a>
        </div>      </div>
    </div>
  </div>
  <div class="col-md-3 col-lg-3 col-sm-4 col-4 d-flex align-items-stretch">
    <div class="row w-100">
      <div class=" col-sm-12 mb-3 stretch-card  paddingDiv" >

        <div class="card rounded shadow-lg ">
          <div class="card-body p-0" *ngIf="mostPopularProjects[3]" [routerLink]="['/project/details',mostPopularProjects[3].id]">

            <div class="little-img-wrap">
              <ng-container *ngIf="mostPopularProjects[3].images[0]">


              <img class="rounded" [src]="mostPopularProjects[3].images[0].image" style="max-height: 100%; max-width: 100%" alt="Forth project"/>
              </ng-container>


            </div>
            <div class="text-dark text-center  d-md-block">
              <h6 class="display-4">
                {{(translate.currentLang === 'rus') ? mostPopularProjects[3].title_rus : (translate.currentLang==='eng') ? mostPopularProjects[3].title_eng:mostPopularProjects[3].title_kz}}</h6>
            </div>
          </div>
        </div>

      </div>
      <div  class="col-sm-12 grid-margin stretch-card  paddingDiv">

        <div class="card  rounded shadow-lg">
          <div class="card-body p-0" *ngIf="mostPopularProjects[4]" [routerLink]="['/project/details',mostPopularProjects[4].id]">
            <div class="little-img-wrap">
              <ng-container *ngIf="mostPopularProjects[4].images[0]">

              <img class="rounded" [src]="mostPopularProjects[4].images[0].image" style="max-height: 100%; max-width: 100%" alt="Fifth project" />
              </ng-container>

            </div>
            <div class="text-dark text-center  d-md-block">
              <h6 class="display-4">
                {{(translate.currentLang === 'rus') ? mostPopularProjects[4].title_rus : (translate.currentLang==='eng') ? mostPopularProjects[4].title_eng:mostPopularProjects[4].title_kz}}</h6>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>



  <div class="col-md-6 col-lg-6 col-sm-8 col-8 grid-margin stretch-card">
    <div class="card  shadow-lg p-0">
      <div class="card-body p-0">
<!--          <h2 class="display-5">Start Time поддерживает</h2>-->
        <div class="row  pb-md-5 p-md-2 p-1">
          <div class="project-card col-md-3 col-lg-4 col-sm-4 col-4 text-center  ">
                <img style="max-width: 100%;max-height: 100%"  src="../../../../assets/images/31_0.png">
                <p>{{'main.charity' | translate}}</p>
          </div>
          <div class="project-card col-md-3 col-lg-4 col-sm-4 col-4 text-center">

                <img style="max-width: 100%;max-height: 100%"  src="../../../../assets/images/15_0.png" >

                <p>{{'main.social' | translate}}</p>
          </div>
          <div class="project-card col-md-3 col-lg-4 col-sm-4 col-4 text-center">
                <img style="max-width: 100%;max-height: 100%"  src="../../../../assets/images/5_0.png" >
            <p>{{'main.commercial'|translate}}</p>
          </div>
        </div>
      </div>

    </div>
  </div>
  <div class="col-md-3 col-lg-3 col-sm-4  col-4 d-flex align-items-stretch">
    <div class="row w-100 justify-content-center">
      <div class=" col-sm-11 grid-margin stretch-card bg-start-time shadow-lg" style="border-radius: 10px">
        <div class="card align-self-center border-0 bg-start-time hover-cursor p-0 ">

          <div class="card-body text-center p-0">
        <h5 routerLink="/create" class="display ">{{'main.start' | translate}}</h5>
          </div></div>
      </div>
    </div>

  </div>
</div>

  <div class="row justify-content-center">

  <div class="col-md-2 col-lg-2 col-sm-2 col-3 mt-md-5 grid-margin stretch-card">
    <div class="card  border-0 shadow-lg ">

      <div class="card-body p-1 p-md-3">
        <h1 class="text-center display counter-count">{{projectNum}}</h1>
        <p class="text-center text-muted">{{'main.projects' | translate}}</p>
        <div class="progress">
          <div class="progress-bar bg-success" role="progressbar" style="width: 95%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
        </div>

      </div>
    </div>
  </div>
  <div class="col-md-2 col-lg-2 col-sm-2 col-3 mt-md-5 grid-margin stretch-card">
    <div class="card border-0 shadow-lg ">

      <div class="card-body p-1 p-md-3">
        <h1 class="text-center display counter-count">{{sucProjNum}}</h1>
        <p class="text-muted text-center">{{'main.startups' | translate}}</p>
        <div class="progress">
          <div class="progress-bar bg-success" role="progressbar" style="width: 55%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-2 col-lg-2 col-sm-2 col-3  mt-md-5 grid-margin stretch-card">
    <div class="card border-0 shadow-lg ">

      <div class="card-body p-1 p-md-3">
        <h1 class="text-center display counter-count">{{projectBakNum}}</h1>
        <p class="text-center text-muted">{{'main.bakes' | translate}}</p>
        <div class="progress">
          <div class="progress-bar bg-success" style="width: 75%" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
      </div>
    </div>
  </div>
  <div class=" col-md-9 col-sm-11 col-lg-9  col-11 mt-md-5 mt-2">
    <div class="d-flex justify-content-between flex-wrap">
      <div class="d-flex align-items-end flex-wrap">
        <div class="mr-md-3 mr-xl-5">
          <h2 class="display">{{'main.partners' | translate}}</h2>
        </div>

      </div>
    </div>
  </div>

  <div class=" col-md-11 col-lg-11 col-sm-11 col-11  mt-md-2 grid-margin">

  <ngx-slick-carousel style="background-color: #fafbfe" class="carousel" #slickModal="slick-carousel" [config]="slideConfig">

    <div ngxSlickItem *ngFor="let partner of partners" class="slide">
      <div class="card m-1 m-md-3 border">
        <div class="card-body p-0 p-md-3">
          <div class="paddingDiv"  >
            <img [src]="[partner.image]" alt="" width="100%">
            <div class="media">
              <div class="media-body">
                <p class="card-text text-center">{{partner.getFullName()}}</p>
              </div>

            </div>
          </div>


        </div>
      </div>

    </div>

  </ngx-slick-carousel>
  </div>
























  <div class=" col-md-9 col-sm-11 col-lg-9 col-11 mt-md-5 ">
    <div class="d-flex justify-content-between flex-wrap">
      <div class="d-flex align-items-end flex-wrap">
        <div class="mr-md-3 mr-xl-5">
          <h2 class="display">Q-Shop</h2>
        </div>

      </div>
    </div>
  </div>


  <div class=" col-sm-11 mt-md-2 grid-margin">
    <div class="row justify-content-center">
      <div class="col-md-2 col-3 col-lg-2 col-sm-2 h-100 grid-margin stretch-card" *ngFor="let product of mostPopularProducts">
        <div class="card m-1 m-md-3 border">
          <div class="card-body p-0 p-md-3">
            <div class="paddingDiv"  >
              <img *ngIf="product.images[0]" [src]="[product.images[0].url]" alt="" width="100%">
              <img *ngIf="!product.images[0]" src="../../../../assets/images/5_0.png" alt="" width="100%">
              <div class="media">
                <div class="media-body text-md-left text-center text-sm-center">
                  <button type="button" class="btn btn-sm bg-start-time text-light" (click)="openDialog(product)">See</button>
                </div>

              </div>
            </div>


          </div>
        </div>
      </div>
    </div>

  </div>

  <div class="col-md-6 col-lg-6 col-sm-6 col-7 grid-margin stretch-card mt-md-5">
    <div class="card ">
      <div class="card-body p-3 ">
        <p >{{'main.follow' | translate}}</p>
        <form [formGroup]="subscribeForm">
        <div class="form-group">
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">@</span>
            </div>
            <input formControlName="email" type="text" class="form-control" placeholder="{{'authorization.email' | translate}}" aria-label="Username">
          </div>
        </div>
        <div class="text-right">
          <button type="submit" class="btn bg-start-time btn-sm hover-open " (click)="onSubmit()">{{'main.subscribe'|translate}}</button>

        </div>
        </form>

      </div>
    </div>
  </div>
</div>



</ng-container>
