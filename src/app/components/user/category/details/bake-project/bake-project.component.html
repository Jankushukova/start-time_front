<app-spinner filterBy="project"></app-spinner>

<ng-container *ngIf="project">
  <h2><small class="text-muted">{{'project.bake.fill_info' | translate}}</small></h2>
  <h3><i class="fas fa-exclamation text-danger"></i><small class="text-muted">  {{'project.bake.info_sum' | translate}}</small></h3>
<mat-dialog-content>
  <mat-horizontal-stepper [linear]="true" #stepper >
    <mat-step [stepControl]="giftedSumForm"  [optional]="true">
      <form [formGroup]="giftedSumForm">
        <ng-template matStepLabel>{{'project.bake.gifted_sum' | translate}}</ng-template>
        <mat-form-field class="w-100">
          <mat-label>{{'project.bake.gifted_sum_choose' | translate}}</mat-label>
          <mat-select formControlName="sum"  (selectionChange)="giftSelected($event)">
            <mat-option *ngFor="let gift of project.gifts;index as i" [value]="i">
              <h2><small class="text-muted">{{gift.sum}} {{gift.description}}</small></h2>
            </mat-option>
          </mat-select>
        </mat-form-field>


      </form>
    </mat-step>

    <mat-step [stepControl]="customSumForm">
      <form [formGroup]="customSumForm">
        <ng-template matStepLabel>{{'project.bake.custom_sum' | translate}}</ng-template>
        <mat-form-field class="w-100">
          <mat-label>{{'project.bake.custom_sum_provide' | translate}}</mat-label>
          <input matInput placeholder="500" type="number" formControlName="sum" >
        </mat-form-field>
        <div>
          <button mat-button matStepperNext>{{'next' | translate}}</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="infoForm">
      <form [formGroup]="infoForm">
        <ng-template matStepLabel>{{'project.bake.info.text' | translate}}</ng-template>
        <mat-form-field class="w-100">
          <mat-label>{{'project.bake.info.firstname' | translate}}</mat-label>
          <input matInput placeholder="{{'project.bake.info.firstname' | translate}}" formControlName="firstname" required>
        </mat-form-field>
        <mat-form-field class="w-100">
          <mat-label>{{'project.bake.info.lastname' | translate}}</mat-label>
          <input matInput placeholder="{{'project.bake.info.lastname' | translate}}" formControlName="lastname" required>
        </mat-form-field>
        <mat-form-field class="w-100">
          <mat-label>{{'project.bake.info.phone' | translate}}</mat-label>
          <input matInput placeholder="{{'project.bake.info.phone' | translate}}" formControlName="phone_number" required>
        </mat-form-field>
        <mat-form-field class="w-100">
          <mat-label>{{'project.bake.info.email' | translate}}</mat-label>
          <input matInput placeholder="{{'project.bake.info.email' | translate}}" formControlName="email" required>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious>{{'back' | translate}}</button>
          <button mat-button matStepperNext>{{'next' | translate}}</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="paymentType">
      <form [formGroup]="paymentType">
        <ng-template matStepLabel>{{'project.bake.payment_type' | translate}}</ng-template>
        <mat-radio-group aria-label="Select an option" formControlName="type">
          <mat-radio-button value="1"><img src="../../../../../../assets/images/kaspi.png"></mat-radio-button>
          <mat-radio-button value="3" class="ml-2"><img src="../../../../../../assets/images/cloudpayments.jpg"></mat-radio-button>
          <mat-radio-button value="2" class="ml-2">Epay</mat-radio-button>

        </mat-radio-group>
        <div>
          <button mat-button matStepperNext>{{'next' | translate}}</button>
        </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>{{'project.bake.done' | translate}}</ng-template>
      <button class="btn btn-start-time btn-lg" (click)="onSubmit()" mat-dialog-close>{{'project.bake.order' | translate}}</button>
      <div>
        <button mat-button matStepperPrevious>{{'back' | translate}}</button>
        <button mat-button (click)="stepper.reset()">{{'reset' | translate}}</button>
      </div>
    </mat-step>
  </mat-horizontal-stepper>



</mat-dialog-content>

</ng-container>
