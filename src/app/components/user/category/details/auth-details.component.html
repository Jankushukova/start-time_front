<app-spinner filterBy="project"></app-spinner>


<ng-container *ngIf="project && project.owner">


<div class="container-fluid ">


  <div class="row justify-content-center  mb-md-5  mb-sm-5">
    <div class="col-md-7 bg-light ">
      <embed width="100%" height="100%" [src]="videoURL()">


    </div>
    <div class="col-md-5  ">
      <div class="">
        <h1 class="display-4">
          {{(translate.currentLang === 'rus') ? project.title_rus : (translate.currentLang === 'eng') ? project.title_eng : project.title_kz}}</h1>
        <p [routerLink]="['/userProfile',project.owner.id]" class="paddingDiv">{{'author'|translate}}: {{project.owner.getFullName()}}</p>
        <div class="info-desk">
        <div class="progress mb-md-3 " >
          <div class="progress-bar bg-sss" role="progressbar" [ngStyle]="{width: progress + '%'}" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <h1 class="text-start-time m-1">₸{{inLocale(project.gathered)}}</h1>
        <p>{{'project.goal' | translate}} ₸{{ inLocale(project.goal)}}</p>
        <hr class="m-0"/>

        <h2 class="text-center m-0">{{project.backers}}</h2>
        <p  class="text-center">{{'project.bakers' | translate}}</p>
        <hr class="m-0"/>
          <ng-container *ngIf="project.active!=2">
            <div class="row">
              <div class="col-6">
                <h3>{{'project.start' | translate}}</h3>
                <p class="m-0">{{editFormat(project.created_at)}}</p>
              </div>
              <div class="col-6">
                <h3>{{'project.deadline' | translate}}</h3>
                <p  class="m-0">{{editFormat(project.deadline)}}</p>
              </div>
            </div>

          </ng-container>
          <ng-container *ngIf="project.active===2">
            <h2 class="text-start-time text-center" ><span>{{'project.end' | translate}}!</span></h2>
          </ng-container>
        <hr/>
        </div>
        <div class="info-mob" >
          <hr/>
          <div class="progress mb-md-3 " >
            <div class="progress-bar bg-sss" role="progressbar" [ngStyle]="{width: progress + '%'}" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
          <div class="row mt-3">
            <div class="col-4">
              <h3 class="text-center"><span class="text-start-time">₸{{inLocale(project.gathered)}}</span></h3>
              <h5 class="text-center" style="margin: 0"><span class="text-muted">{{'project.of' | translate}}</span></h5>
              <h5 class="text-center"><span class="text-start-time">₸{{inLocale(project.goal)}}</span></h5>
            </div>
            <div class="col-4">
              <h3 class="text-center"><span class="text-muted">{{project.backers}}</span></h3>
              <h5 class="text-center"><span class="text-muted">{{'project.bakers' | translate}}</span></h5>
            </div>
            <div class="col-4">
              <ng-container *ngIf="project.active!=2">
                <h3 class="text-center"><span class="text-muted" style="font-size: 70%">{{'project.deadline' | translate}}</span></h3>
                <h5 class="text-center"><span class="text-muted">{{editFormat(project.deadline)}}</span></h5>
              </ng-container>
              <ng-container *ngIf="project.active===2">
                <h4 class="text-start-time text-center" ><span style="font-size: 70%">{{'project.end' | translate}}!</span></h4>
              </ng-container>
            </div>
          </div>
          <hr/>
        </div>
        <button [disabled]="project.active === 2" class="btn bg-sss text-light w-100 " (click)="openDialog()"> {{'project.bake.action' | translate}}</button>

      </div>



    </div>

  </div>


  <app-auth-information [project] = "project"></app-auth-information>


</div>
</ng-container>
