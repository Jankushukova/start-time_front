

  <nav class="navbar col-lg-12 col-md-12 col-sm-12 col-12 p-0 fixed-top d-flex flex-row">

    <div class="navbar-menu-wrapper d-flex justify-content-center" style="height: 35px;width: 100%">

      <ul class="navbar-nav justify-content-end mt-md-2" style="width:60%">

        <li class="nav-item dropdown mr-0">
          <mat-form-field class="text-right" appearance="none">
            <mat-select [(value)]="translate.currentLang"   class="lang" #langSelect (selectionChange)="this.translate.use(langSelect.value)">
              <mat-option
                *ngFor="let lang of translate.getLangs()"
                [value]="lang"
              >
                {{ lang }}
              </mat-option>
            </mat-select>
          </mat-form-field>

        </li>
        <ng-container *ngIf="authorized && user">

          <li class="nav-item mr-0">

            <a routerLink="/order/product"  matBadge="{{productCount}}" matBadgeSize="small" matBadgeColor="warn"> <i class="fas fa-shopping-cart fa-lg"></i></a>
          </li>
          <li class="nav-item nav-profile dropdown mr-0">
            <a [matMenuTriggerFor]="logout" class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="profileDropdown">

              <img *ngIf="!user.image" src="../../../assets/images/11_0.png" alt="profile">
              <img *ngIf="user.image" [src]="user.image" alt="profile">
              <span class="text-muted">{{user.fullname}}</span>
            </a>
            <mat-menu #logout="matMenu" xPosition="before">
              <button mat-menu-item (click)="Logout()"> <i class="mdi mdi-logout"></i>
                {{'logout'|translate}}
              </button>
              <button mat-menu-item routerLink="/home"> <i class="fas fa-user-cog"></i>
                {{'home'|translate}}

              </button>
            </mat-menu>

          </li>
        </ng-container>
        <ng-container *ngIf="!authorized">
          <li class="nav-item mr-0">

            <a routerLink="/order/product"  matBadge="{{productCount}}" matBadgeSize="small" matBadgeColor="warn"> <i class="fas fa-shopping-cart fa-lg"></i></a>

          </li>
          <li class="nav-item dropdown mr-1 small mr-0">
            <a style="color: inherit" routerLink="/login">{{'authorization.login.text' | translate}}</a>
          </li>
          <li class="nav-item nav-profile dropdown small mr-0">
            <a style="color: inherit" routerLink="/register">{{'authorization.register.text' | translate}}</a>

          </li>

        </ng-container>
      </ul>

    </div>
    <div class="navbar-menu-wrapper shadow-lg d-flex align-items-center justify-content-center  w-100" style="background: #fafbfe;">
      <ul class="navbar-nav mr-lg-4 ">
        <li class="nav-item  d-lg-block text-center">
          <a routerLink="/main" class="nav-link"><img  src="../../../assets/images/logot.png" class="logo"></a>
        </li>
      </ul>

    </div>

    <div class="navbar-menu-wrapper d-flex justify-content-center w-100" style="height: 50px">

      <ul style="width: 10%"></ul>
      <ul class="navbar-nav "  style="width: 40%">
        <li class="nav-item  d-none d-lg-block w-100 h-100 m-0 p-0 text-center " *ngFor="let category of categories1" >
          <a  class="a nav-link text-center w-100 h-100 m-0 p-0 " [routerLink]="['/category', category.id]">
            <img class="h-100" style="max-width: 100%; max-height: 100%" [src]="getImage(category.id)"></a>
        </li>
      </ul>
      <ul class="  h-100 comp justify-content-end" style="width: 10%">
        <button class="color-sss" mat-button [matMenuTriggerFor]="cat">{{'categories'|translate}}</button>
        <mat-menu #cat="matMenu">
          <button  mat-menu-item [routerLink]="['/category', category.id]" *ngFor="let category of categories">
            {{(translate.currentLang=='rus') ? category.name_rus : (translate.currentLang === 'eng') ? category.name_eng : category.name_kz }}
          </button>
        </mat-menu>
      </ul>
      <ul class=" h-100 mob  justify-content-end" >
        <button class="color-sss" mat-button [matMenuTriggerFor]="cat">{{'categories'|translate}}</button>
        <mat-menu #cat="matMenu">
          <button  mat-menu-item [routerLink]="['/category', category.id]" *ngFor="let category of categories">
            {{(translate.currentLang=='rus') ? category.name_rus : (translate.currentLang === 'eng') ? category.name_eng : category.name_kz }}
          </button>
        </mat-menu>
      </ul>


    </div>
  </nav>


























  <div class="container-fluid page-body-wrapper">
    <nav    class="sidebar sidebar-offcanvas" id="sidebar">
      <ul class="nav">
        <li class="nav-item">
          <a class="nav-link al"  routerLink="/main">{{'navigation.main' | translate}} <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link al" id="s1" routerLink="/news">{{'navigation.news' | translate}}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " routerLink="/contact">{{'navigation.contact' | translate}}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " routerLink="/about">{{'navigation.about'|translate}}</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " routerLink="/help">{{'navigation.help' | translate}}</a>
        </li>
        <li class="nav-item">

          <a class="nav-link " routerLink="/shop">Q-Shop</a>
        </li>

      </ul>
    </nav>

    <div class="main-panel">
      <div class="content-wrapper p-0 bg-image" >
        <div class="row justify-content-center mt-2" >
          <div class="col-lg-7  col-8 mb-2 mt-5 pt-1  rounded-lg shadow-lg" style="background-color: #f1f2f7">
                <mat-form-field style="width: 100%" appearance="none">
                  <input #input id="input"  [(ngModel)]="inputText" matInput placeholder="{{'main.search' | translate}}" >
                  <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="filterProjects(inputText)">
                    <mat-icon matSuffix style="font-size: 28px">search</mat-icon>
                  </button>
                </mat-form-field>

          </div>
          <div class="col-lg-7 p-0 col-8 mb-4 mt-4  pt-2 rounded-lg shadow-lg" style="background-color: #f1f2f7">

            <ng-container *ngIf="!searchProject">

              <router-outlet></router-outlet>
            </ng-container>
            <ng-container *ngIf="searchProject">
              <app-spinner filterBy="project/filter"></app-spinner>

              <div class="container-fluid mb-md-5">
                <div class="row justify-content-center mt-md-5 ">
                  <ng-container *ngIf="projects.length>0">
                    <div *ngFor="let project of projects" class="col-md-3 grid-margin stretch-card">
                    <div class="card  shadow" >
                      <div class="card-img-top m-auto">

                        <ng-container *ngIf="project.images">
                          <img  *ngIf="project.images[0]" [src]="project.images[0].image" width="100%" height="150px" alt="Card image cap">
                        </ng-container>
                        <img class="card-img-top m-auto" *ngIf="!project.images[0]" src="../../../../assets/images/32_0.png" width="100%" height="150px" alt="Card image cap">
                      </div><div class="card-body">
                      <h6 class="card-title text-center"><a (click)="searchProject = false" [routerLink]="['/project/details', project.id]" >
                        {{(translate.currentLang === 'rus') ? project.title_rus : (translate.currentLang == 'eng') ? project.title_eng: project.title_kz}}</a></h6>
                      <hr/>
                      <p class="text-muted " >{{'project.by' | translate}}: <a style="color: inherit" [routerLink]="['/userProfile',project.owner.id]"> {{project.owner.fullname}}</a></p>

                      <div class="row">
                        <div class="col d-flex ">
                          <button mat-icon-button aria-label="Example icon button with an eye icon">
                            <mat-icon>remove_red_eye</mat-icon>
                            <span>{{project.views}}</span>
                          </button>
                        </div>
                        <div class="col d-flex ">
                          <button mat-icon-button aria-label="Example icon button with a heart icon" class="ml-auto">
                            <mat-icon *ngIf="!project.liked" (click)="like(project)">favorite_border</mat-icon>
                            <mat-icon *ngIf="project.liked" (click)="unlike(project)">favorite</mat-icon>
                            <span>{{project.likes.length}}</span>
                          </button>

                        </div>
                      </div>
                      <div class="progress">
                        <div class="progress-bar bg-sss" role="progressbar" [ngStyle]="{width: (project.gathered/project.goal)*100 + '%'}" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                      <div class="row mt-2">
                        <div class="col-7">
                          <h4 class="text-start-time"><span class="text-muted">{{'project.gathered' | translate}}:</span> ₸{{project.gathered}}</h4>
                        </div>
                        <div class="col-5">
                          <h4 class="text-muted text-center" *ngIf="project.active!=2">{{daysLeft(project)}} <span >{{'project.days' | translate}}</span></h4>
                          <h6 class="text-muted text-center" *ngIf="project.active==2"><span>{{'project.end' | translate}}</span></h6>

                        </div>
                      </div>

                    </div>
                    </div>

                  </div>
                  </ng-container>
                  <ng-container *ngIf="projects.length==0">
                    <p class="text-muted text-center">{{'noproject'|translate}}</p>
                  </ng-container>
                </div>
                <div>
                </div>
              </div>
            </ng-container>
            <ul class="nav comp justify-content-around p-md-3" style="background-color: #ffffff;border-top: 1px solid #DCDEDD">
              <li class="nav-item">
                <a class="nav-link a" style="border-right: 1px solid #DCDEDD"  routerLink="/main">{{'navigation.main' | translate}} <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link a"  routerLink="/news">{{'navigation.news' | translate}}</a>
              </li>
              <li class="nav-item">
                <a class="nav-link a" style="border-right: 1px solid #DCDEDD;border-left: 1px solid #DCDEDD" routerLink="/contact">{{'navigation.contact' | translate}}</a>
              </li>
              <li class="nav-item">
                <a class="nav-link a"  routerLink="/about">{{'navigation.about'|translate}}</a>
              </li>

              <li class="nav-item">
                <a class="nav-link a" style="border-right: 1px solid #DCDEDD;border-left: 1px solid #DCDEDD" routerLink="/help">{{'navigation.help' | translate}}</a>
              </li>
              <li class="nav-item">
                <a class="nav-link a" routerLink="/shop">Q-Shop</a>
              </li>

            </ul>

          </div>
        </div>
        <footer class="footer">
          <div class="w-100 mob-nav">
            <ul style="list-style: none">
              <li class="nav-item">
                <a class="nav-link al"  routerLink="/main">{{'navigation.main' | translate}} <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link al" routerLink="/news">{{'navigation.news' | translate}}</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " routerLink="/contact">{{'navigation.contact' | translate}}</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " routerLink="/about">{{'navigation.about'|translate}}</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " routerLink="/help">{{'navigation.help' | translate}}</a>
              </li>

            </ul>
          </div>

          <div class="d-sm-flex justify-content-center justify-content-sm-between m-auto" style="width:60%">
            <div class="w-100">
              <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Start time ©<script> document.write(new Date().getFullYear())</script></span>
              <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center ml-md-auto mb-2">
            <button type="button" class="btn btn-social-icon btn-facebook"><a target="_blank" href="https://www.facebook.com/1521304248106911/" style="color:inherit"><i class="mdi mdi-facebook"></i></a></button>
            <button type="button" class="btn btn-social-icon btn-google ml-md-2 ml-2"><a href="https://instagram.com/starttime.kz?igshid=9245e87xtp35" style="color:inherit" target="_blank"><i class="mdi mdi-instagram"></i></a></button></span>
              <span id="_zero_68212" class="p-md-2 ml-5 pl-2">
          <a href="https://zero.kz/site/show/site_id_68212_kraudfandingovaya-platforma/" target="_blank">
            <img src="http://c.zero.kz/z.png?u=68212" width="88" height="31" alt="ZERO.kz" />
          </a>
      </span>

            </div>

          </div>

        </footer>


      </div>

      <!-- partial -->
    </div>
    <!-- main-panel ends -->

  </div>
