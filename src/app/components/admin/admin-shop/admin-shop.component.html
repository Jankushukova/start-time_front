<ng-container>
<div class="row">
  <div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Shop products</h4>
        <p class="text-warning">{{message}}</p>

        <div class="row">
          <div class="col-lg-6">
            <div class="form-group">
              <div class="input-group">
                <div class="input-group-prepend">

                <button [matMenuTriggerFor]="chooseFilter" class="btn bg-sss text-white">
                  Фильтры
                </button>
                <mat-menu #chooseFilter="matMenu">
                  <button mat-menu-item (click)="changeFilter('title_rus')">Название</button>
                  <button mat-menu-item (click)="changeFilter('cost')">Сумма</button>
                  <button mat-menu-item (click)="changeFilter('owner')">Владелец</button>
                  <button mat-menu-item [matMenuTriggerFor]="chooseState" >Статус</button>
                </mat-menu>
                  <mat-menu #chooseState="matMenu">
                    <button mat-menu-item (click)="filterProducts(0)">Не активные</button>
                    <button mat-menu-item (click)="filterProducts(1)" >Активные</button>

                  </mat-menu>
                </div>
                <input [(ngModel)]="inputText" #input id="input"  type="text" class="form-control" aria-label="Text input with dropdown button">
              </div>
            </div>

          </div>
          <div class="col-lg-6 text-right">
            <button (click)="removeFilters()" type="button" class="btn btn-danger btn-rounded btn-icon" matTooltip="Убрать фильтры">
              <i class="mdi mdi-delete"></i>
            </button>
          </div>
        </div>
        <app-spinner filterBy="product/all"></app-spinner>
        <app-spinner filterBy="product/filter"></app-spinner>
        <table class="table table-hover table-responsive-sm table-responsive-xl" *ngIf="products">
          <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Owner</th>
            <th scope="col">Views</th>
            <th scope="col">Price</th>
            <th scope="col">Created date</th>
            <th scope="col">Active</th>
            <th scope="col">Action</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let product of products;index as i">
            <th scope="row">{{i + 1}}</th>
            <td> <a style="color:inherit" target="_blank" class="paddingDiv" (click)="openDialog(product)">
              {{product.title_rus}}</a></td>
            <td>{{product.user.getFullName()}}</td>
            <td>{{product.views}}</td>
            <td>{{product.cost}}</td>
            <td>{{product.created_at}}</td>
            <td><button class="btn btn-light" (click)="changeState(product)">{{product.active}}</button></td>
            <td> <button (click)="openDialog(product)" mat-icon-button aria-label="Example icon button with a heart icon" class="ml-auto">

              <i class="fas fa-edit mr-3" ></i></button></td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>
</ng-container>
<div>
  <ngb-pagination class="d-flex justify-content-end" (pageChange)="changePage($event)" [ellipses]="true"  [collectionSize]="totalProductsCount" maxSize="5" [(page)]="page" [pageSize]="perPageCount" [rotate]="true" [boundaryLinks]="true"></ngb-pagination>

</div>
